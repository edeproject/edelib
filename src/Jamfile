#
# $Id$
#
# Part of edelib.
# Copyright (c) 2005-2007 EDE Authors.
#
# This program is licenced under terms of the 
# GNU General Public Licence version 2 or newer.
# See COPYING for details.

SubDir TOP src ;

SOURCE = Config.cpp 
		 StrUtil.cpp
		 Util.cpp
		 Nls.cpp
		 String.cpp
		 File.cpp
		 Directory.cpp
		 Debug.cpp 
		 Sound.cpp 
		 IconTheme.cpp ;

# files that requires fltk or X11
SOURCE_GUI = Ask.cpp
			 XSet.cpp 
			 ExpandableGroup.cpp 
			 IconChooser.cpp ;

if $(FLTKLIBS)
{
	SOURCE += $(SOURCE_GUI) ;
}
else
{
	Echo "...building without FLTK support..." ;
}

LPATH = [ FFileName $(TOP) $(EDELIB_LIBDIR) $(EDELIB_NAME) ] ;

if $(SHARED)
{
	MakeSharedLibrary $(LPATH) : $(SOURCE) : $(FLTKLIBS) $(SOUNDLIBS) ;
	InstallSharedLibrary $(libdir) : $(LPATH) ;
}
else
{
	MakeStaticLibrary $(LPATH) : $(SOURCE) ;
	InstallStaticLibrary $(libdir) : $(LPATH) ;
}
